# 双臂机器人配置：IA Robot（单URDF双链格式）
# 协作双臂系统配置
dual_arm: true
dual_arm_type: "single_urdf"  # 单URDF文件包含两条链（与"two_urdf"格式不同）

robot_name: "IA Robot Dual Arm System"
description: "单URDF文件包含左右两条机械臂链"

# 共享的URDF文件（两条链都在这个文件中）
shared_urdf:
  urdf_file: "right_left_arm.urdf"
  urdf_path: "ia_robot"
  base_link: "base_link"  # 两条链的共同基座

# 机器人1配置（右臂）
robot1:
  name: "Right Arm"
  
  joint_chain:
    base_link: "base_link"  # 从共享基座开始
    end_link: "ree_link"    # 右臂末端连杆
    joints:
      - "rjoint1"
      - "rjoint2"
      - "rjoint3"
      - "rjoint4"
      - "rjoint5"
      - "rjoint6"
      - "rjoint7"
  
  # 机器人1的基座位姿（相对于shared_urdf的base_link，通常为[0,0,0]）
  # 格式：[tx, ty, tz] 或 [qw, qx, qy, qz, tx, ty, tz]
  base_pose: [0.0, 0.0, 0.0]  # 右臂从base_link直接开始，无额外偏移
  
  # MDH参数（自动提取）
  mdh_extraction:
    enabled: true
    auto_extract: true
  
  initial_joint_angles: [0, 0, 0, 0, 0, 0, 0]

# 机器人2配置（左臂）
robot2:
  name: "Left Arm"
  
  joint_chain:
    base_link: "base_link"  # 从共享基座开始
    end_link: "lee_link"    # 左臂末端连杆（如果存在，否则用llink7）
    joints:
      - "ljoint1"
      - "ljoint2"
      - "ljoint3"
      - "ljoint4"
      - "ljoint5"
      - "ljoint6"
      - "ljoint7"
  
  # 机器人2的基座位姿（相对于shared_urdf的base_link，通常为[0,0,0]）
  base_pose: [0.0, 0.0, 0.0]  # 左臂从base_link直接开始，无额外偏移
  
  # MDH参数（自动提取）
  mdh_extraction:
    enabled: true
    auto_extract: true
  
  initial_joint_angles: [0, 0, 0, 0, 0, 0, 0]

# 双臂系统配置
dual_arm_config:
  # 绝对位姿（两个末端执行器的平均位置）
  # 计算方式：absolute_pose = (pose1 + pose2) / 2
  # 这里的配置只是说明，实际由WASM计算
  
  # 相对位姿（robot1末端到robot2末端的相对变换）
  # 计算方式：relative_pose = pose2 * pose1^(-1)
  # 这里的配置只是说明，实际由WASM计算
  
  # 相对位姿增益（用于控制）
  relative_gain: 0.5

# 可视化配置
visualization:
  robot1_color: "#3b82f6"      # 蓝色 - UR3
  robot2_color: "#10b981"      # 绿色 - UR3e
  absolute_pose_color: "#fbbf24"  # 黄色 - 绝对位姿标记
  relative_pose_color: "#ef4444"  # 红色 - 相对位姿连线
  show_absolute_pose: true
  show_relative_pose: true
  end_effector_size: 0.02

